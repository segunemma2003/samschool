import{r as i,c as me,t as is,a as ls,j as e,V as ue,R as xe,A as he,C as pe,X as cs,T as fe,D as ge,b as be,P as ds,z as ms,d as us,e as je,f as xs,S as hs,g as ps,h as Ne,u as fs,i as V,k as K,l as L,m as gs,n as bs,o as ve,L as js,p as ye,Q as Ns,q as vs,s as ys,v as ws,H as Ss,w as As,x as Y,N as le}from"./client-BFsy8bn8.js";import{u as Ts,R as we,A as Rs}from"./index-73IKM1MG.js";import{D as Es}from"./download-RkYWynoy.js";/* empty css              */const Os=5,Cs=1e6,D={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let q=0;function Ds(){return q=(q+1)%Number.MAX_SAFE_INTEGER,q.toString()}const Z=new Map,ce=s=>{if(Z.has(s))return;const t=setTimeout(()=>{Z.delete(s),U({type:D.REMOVE_TOAST,toastId:s})},Cs);Z.set(s,t)},Is=(s,t)=>{switch(t.type){case D.ADD_TOAST:return{...s,toasts:[t.toast,...s.toasts].slice(0,Os)};case D.UPDATE_TOAST:return{...s,toasts:s.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case D.DISMISS_TOAST:{const{toastId:r}=t;return r?ce(r):s.toasts.forEach(a=>{ce(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case D.REMOVE_TOAST:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==t.toastId)}}},$=[];let G={toasts:[]};function U(s){G=Is(G,s),$.forEach(t=>{t(G)})}function ks({...s}){const t=Ds(),r=o=>U({type:D.UPDATE_TOAST,toast:{...o,id:t}}),a=()=>U({type:D.DISMISS_TOAST,toastId:t});return U({type:D.ADD_TOAST,toast:{...s,id:t,open:!0,onOpenChange:o=>{o||a()}}}),{id:t,dismiss:a,update:r}}function Se(){const[s,t]=i.useState(G);return i.useEffect(()=>($.push(t),()=>{const r=$.indexOf(t);r>-1&&$.splice(r,1)}),[s]),{...s,toast:ks,dismiss:r=>U({type:D.DISMISS_TOAST,toastId:r})}}/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],_s=me("Printer",Ps);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ms=me("User",Ls);function g(...s){return is(ls(s))}const Hs=ds,Ae=i.forwardRef(({className:s,...t},r)=>e.jsx(ue,{ref:r,className:g("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Ae.displayName=ue.displayName;const Vs=be("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Te=i.forwardRef(({className:s,variant:t,...r},a)=>e.jsx(xe,{ref:a,className:g(Vs({variant:t}),s),...r}));Te.displayName=xe.displayName;const Bs=i.forwardRef(({className:s,...t},r)=>e.jsx(he,{ref:r,className:g("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));Bs.displayName=he.displayName;const Re=i.forwardRef(({className:s,...t},r)=>e.jsx(pe,{ref:r,className:g("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(cs,{className:"h-4 w-4"})}));Re.displayName=pe.displayName;const Ee=i.forwardRef(({className:s,...t},r)=>e.jsx(fe,{ref:r,className:g("text-sm font-semibold",s),...t}));Ee.displayName=fe.displayName;const Oe=i.forwardRef(({className:s,...t},r)=>e.jsx(ge,{ref:r,className:g("text-sm opacity-90",s),...t}));Oe.displayName=ge.displayName;function Fs(){const{toasts:s}=Se();return e.jsxs(Hs,{children:[s.map(function({id:t,title:r,description:a,action:o,...n}){return e.jsxs(Te,{...n,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Ee,{children:r}),a&&e.jsx(Oe,{children:a})]}),o,e.jsx(Re,{})]},t)}),e.jsx(Ae,{})]})}const Js=({...s})=>{const{theme:t="system"}=ms();return e.jsx(us,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},Us=xs,zs=i.forwardRef(({className:s,sideOffset:t=4,...r},a)=>e.jsx(je,{ref:a,sideOffset:t,className:g("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r}));zs.displayName=je.displayName;const Ks=be("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=i.forwardRef(({className:s,variant:t,size:r,asChild:a=!1,...o},n)=>{const l=a?hs:"button";return e.jsx(l,{className:g(Ks({variant:t,size:r,className:s})),ref:n,...o})});X.displayName="Button";function Ce(s,[t,r]){return Math.min(r,Math.max(t,s))}var Ys=i.createContext(void 0);function $s(s){const t=i.useContext(Ys);return s||t||"ltr"}var De=["PageUp","PageDown"],Ie=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ke={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[ee,Gs,Xs]=ps(B),[Pe,Ft]=Ne(B,[Xs]),[Ws,W]=Pe(B),_e=i.forwardRef((s,t)=>{const{name:r,min:a=0,max:o=100,step:n=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:m=0,defaultValue:x=[a],value:j,onValueChange:c=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:w,...p}=s,N=i.useRef(new Set),b=i.useRef(0),A=l==="horizontal"?Qs:qs,[v=[],T]=fs({prop:j,defaultProp:x,onChange:R=>{var M;(M=[...N.current][b.current])==null||M.focus(),c(R)}}),O=i.useRef(v);function C(R){const I=rt(v,R);F(R,I)}function os(R){F(R,b.current)}function ns(){const R=O.current[b.current];v[b.current]!==R&&h(v)}function F(R,I,{commit:M}={commit:!1}){const ne=it(n),Q=lt(Math.round((R-a)/n)*n+a,ne),J=Ce(Q,[a,o]);T((H=[])=>{const k=st(H,J,I);if(nt(k,m*n)){b.current=k.indexOf(J);const ie=String(k)!==String(H);return ie&&M&&h(k),ie?k:H}else return H})}return e.jsx(Ws,{scope:s.__scopeSlider,name:r,disabled:d,min:a,max:o,valueIndexToChangeRef:b,thumbs:N.current,values:v,orientation:l,form:w,children:e.jsx(ee.Provider,{scope:s.__scopeSlider,children:e.jsx(ee.Slot,{scope:s.__scopeSlider,children:e.jsx(A,{"aria-disabled":d,"data-disabled":d?"":void 0,...p,ref:t,onPointerDown:V(p.onPointerDown,()=>{d||(O.current=v)}),min:a,max:o,inverted:f,onSlideStart:d?void 0:C,onSlideMove:d?void 0:os,onSlideEnd:d?void 0:ns,onHomeKeyDown:()=>!d&&F(a,0,{commit:!0}),onEndKeyDown:()=>!d&&F(o,v.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:I})=>{if(!d){const Q=De.includes(R.key)||R.shiftKey&&Ie.includes(R.key)?10:1,J=b.current,H=v[J],k=n*Q*I;F(H+k,J,{commit:!0})}}})})})})});_e.displayName=B;var[Le,Me]=Pe(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qs=i.forwardRef((s,t)=>{const{min:r,max:a,dir:o,inverted:n,onSlideStart:l,onSlideMove:d,onSlideEnd:m,onStepKeyDown:x,...j}=s,[c,h]=i.useState(null),f=K(t,A=>h(A)),w=i.useRef(void 0),p=$s(o),N=p==="ltr",b=N&&!n||!N&&n;function S(A){const v=w.current||c.getBoundingClientRect(),T=[0,v.width],C=ae(T,b?[r,a]:[a,r]);return w.current=v,C(A-v.left)}return e.jsx(Le,{scope:s.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:e.jsx(He,{dir:p,"data-orientation":"horizontal",...j,ref:f,style:{...j.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const v=S(A.clientX);l==null||l(v)},onSlideMove:A=>{const v=S(A.clientX);d==null||d(v)},onSlideEnd:()=>{w.current=void 0,m==null||m()},onStepKeyDown:A=>{const T=ke[b?"from-left":"from-right"].includes(A.key);x==null||x({event:A,direction:T?-1:1})}})})}),qs=i.forwardRef((s,t)=>{const{min:r,max:a,inverted:o,onSlideStart:n,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...x}=s,j=i.useRef(null),c=K(t,j),h=i.useRef(void 0),f=!o;function w(p){const N=h.current||j.current.getBoundingClientRect(),b=[0,N.height],A=ae(b,f?[a,r]:[r,a]);return h.current=N,A(p-N.top)}return e.jsx(Le,{scope:s.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:e.jsx(He,{"data-orientation":"vertical",...x,ref:c,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const N=w(p.clientY);n==null||n(N)},onSlideMove:p=>{const N=w(p.clientY);l==null||l(N)},onSlideEnd:()=>{h.current=void 0,d==null||d()},onStepKeyDown:p=>{const b=ke[f?"from-bottom":"from-top"].includes(p.key);m==null||m({event:p,direction:b?-1:1})}})})}),He=i.forwardRef((s,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:o,onSlideEnd:n,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:m,...x}=s,j=W(B,r);return e.jsx(L.span,{...x,ref:t,onKeyDown:V(s.onKeyDown,c=>{c.key==="Home"?(l(c),c.preventDefault()):c.key==="End"?(d(c),c.preventDefault()):De.concat(Ie).includes(c.key)&&(m(c),c.preventDefault())}),onPointerDown:V(s.onPointerDown,c=>{const h=c.target;h.setPointerCapture(c.pointerId),c.preventDefault(),j.thumbs.has(h)?h.focus():a(c)}),onPointerMove:V(s.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:V(s.onPointerUp,c=>{const h=c.target;h.hasPointerCapture(c.pointerId)&&(h.releasePointerCapture(c.pointerId),n(c))})})}),Ve="SliderTrack",Be=i.forwardRef((s,t)=>{const{__scopeSlider:r,...a}=s,o=W(Ve,r);return e.jsx(L.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...a,ref:t})});Be.displayName=Ve;var se="SliderRange",Fe=i.forwardRef((s,t)=>{const{__scopeSlider:r,...a}=s,o=W(se,r),n=Me(se,r),l=i.useRef(null),d=K(t,l),m=o.values.length,x=o.values.map(h=>Ue(h,o.min,o.max)),j=m>1?Math.min(...x):0,c=100-Math.max(...x);return e.jsx(L.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...a,ref:d,style:{...s.style,[n.startEdge]:j+"%",[n.endEdge]:c+"%"}})});Fe.displayName=se;var te="SliderThumb",Je=i.forwardRef((s,t)=>{const r=Gs(s.__scopeSlider),[a,o]=i.useState(null),n=K(t,d=>o(d)),l=i.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return e.jsx(Zs,{...s,ref:n,index:l})}),Zs=i.forwardRef((s,t)=>{const{__scopeSlider:r,index:a,name:o,...n}=s,l=W(te,r),d=Me(te,r),[m,x]=i.useState(null),j=K(t,S=>x(S)),c=m?l.form||!!m.closest("form"):!0,h=gs(m),f=l.values[a],w=f===void 0?0:Ue(f,l.min,l.max),p=tt(a,l.values.length),N=h==null?void 0:h[d.size],b=N?at(N,w,d.direction):0;return i.useEffect(()=>{if(m)return l.thumbs.add(m),()=>{l.thumbs.delete(m)}},[m,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${w}% + ${b}px)`},children:[e.jsx(ee.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(L.span,{role:"slider","aria-label":s["aria-label"]||p,"aria-valuemin":l.min,"aria-valuenow":f,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...n,ref:j,style:f===void 0?{display:"none"}:s.style,onFocus:V(s.onFocus,()=>{l.valueIndexToChangeRef.current=a})})}),c&&e.jsx(et,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:f},a)]})});Je.displayName=te;var et=s=>{const{value:t,...r}=s,a=i.useRef(null),o=Ts(t);return i.useEffect(()=>{const n=a.current,l=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&m){const x=new Event("input",{bubbles:!0});m.call(n,t),n.dispatchEvent(x)}},[o,t]),e.jsx("input",{style:{display:"none"},...r,ref:a,defaultValue:t})};function st(s=[],t,r){const a=[...s];return a[r]=t,a.sort((o,n)=>o-n)}function Ue(s,t,r){const n=100/(r-t)*(s-t);return Ce(n,[0,100])}function tt(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function rt(s,t){if(s.length===1)return 0;const r=s.map(o=>Math.abs(o-t)),a=Math.min(...r);return r.indexOf(a)}function at(s,t,r){const a=s/2,n=ae([0,50],[0,a]);return(a-n(t)*r)*r}function ot(s){return s.slice(0,-1).map((t,r)=>s[r+1]-t)}function nt(s,t){if(t>0){const r=ot(s);return Math.min(...r)>=t}return!0}function ae(s,t){return r=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(s[1]-s[0]);return t[0]+a*(r-s[0])}}function it(s){return(String(s).split(".")[1]||"").length}function lt(s,t){const r=Math.pow(10,t);return Math.round(s*r)/r}var ze=_e,ct=Be,dt=Fe,mt=Je;const re=i.forwardRef(({className:s,...t},r)=>e.jsxs(ze,{ref:r,className:g("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(ct,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(dt,{className:"absolute h-full bg-primary"})}),e.jsx(mt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));re.displayName=ze.displayName;const Ke=i.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));Ke.displayName="Card";const ut=i.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:g("flex flex-col space-y-1.5 p-6",s),...t}));ut.displayName="CardHeader";const xt=i.forwardRef(({className:s,...t},r)=>e.jsx("h3",{ref:r,className:g("text-2xl font-semibold leading-none tracking-tight",s),...t}));xt.displayName="CardTitle";const ht=i.forwardRef(({className:s,...t},r)=>e.jsx("p",{ref:r,className:g("text-sm text-muted-foreground",s),...t}));ht.displayName="CardDescription";const pt=i.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:g("p-6 pt-0",s),...t}));pt.displayName="CardContent";const ft=i.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:g("flex items-center p-6 pt-0",s),...t}));ft.displayName="CardFooter";var oe="Avatar",[gt,Jt]=Ne(oe),[bt,Ye]=gt(oe),$e=i.forwardRef((s,t)=>{const{__scopeAvatar:r,...a}=s,[o,n]=i.useState("idle");return e.jsx(bt,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:n,children:e.jsx(L.span,{...a,ref:t})})});$e.displayName=oe;var Ge="AvatarImage",Xe=i.forwardRef((s,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...n}=s,l=Ye(Ge,r),d=jt(a,n.referrerPolicy),m=bs(x=>{o(x),l.onImageLoadingStatusChange(x)});return ve(()=>{d!=="idle"&&m(d)},[d,m]),d==="loaded"?e.jsx(L.img,{...n,ref:t,src:a}):null});Xe.displayName=Ge;var We="AvatarFallback",Qe=i.forwardRef((s,t)=>{const{__scopeAvatar:r,delayMs:a,...o}=s,n=Ye(We,r),[l,d]=i.useState(a===void 0);return i.useEffect(()=>{if(a!==void 0){const m=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(m)}},[a]),l&&n.imageLoadingStatus!=="loaded"?e.jsx(L.span,{...o,ref:t}):null});Qe.displayName=We;function jt(s,t){const[r,a]=i.useState("idle");return ve(()=>{if(!s){a("error");return}let o=!0;const n=new window.Image,l=d=>()=>{o&&a(d)};return a("loading"),n.onload=l("loaded"),n.onerror=l("error"),n.src=s,t&&(n.referrerPolicy=t),()=>{o=!1}},[s,t]),r}var qe=$e,Ze=Xe,es=Qe;const ss=i.forwardRef(({className:s,...t},r)=>e.jsx(qe,{ref:r,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));ss.displayName=qe.displayName;const ts=i.forwardRef(({className:s,...t},r)=>e.jsx(Ze,{ref:r,className:g("aspect-square h-full w-full",s),...t}));ts.displayName=Ze.displayName;const rs=i.forwardRef(({className:s,...t},r)=>e.jsx(es,{ref:r,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));rs.displayName=es.displayName;const as=i.forwardRef(({className:s,orientation:t="horizontal",decorative:r=!0,...a},o)=>e.jsx(we,{ref:o,decorative:r,orientation:t,className:g("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));as.displayName=we.displayName;const Nt=({data:s,schoolLogoUrl:t,title:r="NURSERY REPORT SHEET"})=>e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:t,alt:"School Logo",className:"h-32 w-32 object-contain",onError:a=>{a.target.style.display="none"}})}),e.jsxs("div",{className:"text-center flex-grow mx-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-black",children:s.school.school_name}),e.jsx("p",{className:"text-xs",children:s.school.school_address}),e.jsx("p",{className:"text-xs italic",children:"Motto: Building Leaders"}),e.jsxs("p",{className:"text-xs mt-1",children:["Email: ",s.school.email," URL: ",s.school.school_website]}),e.jsx("h2",{className:"text-xl font-bold text-red-600 mt-2",children:r})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(ss,{className:"h-32 w-32 border-2 border-gray-300",children:[e.jsx(ts,{src:`https://schoolcompasse.s3.us-east-1.amazonaws.com/${s.student.data.avatar}`,alt:"Student"}),e.jsx(rs,{children:e.jsx(Ms,{className:"h-16 w-16 text-gray-400"})})]})})]}),e.jsx(as,{className:"my-2"})]}),vt=({name:s,admissionNo:t,className:r,session:a,term:o,grade:n,attendanceData:l})=>e.jsxs("div",{className:"flex justify-between items-start mb-2 student-info-section",children:[e.jsx("div",{className:"w-1/3 text-xs",children:e.jsx("div",{className:"h-full flex flex-col justify-between",style:{minHeight:"80px"},children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Name:"}),e.jsx("span",{children:s})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Admission No:"}),e.jsx("span",{children:t})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Class:"}),e.jsx("span",{children:r})]})]})})}),e.jsx("div",{className:"w-1/3 text-xs",children:e.jsx("div",{className:"h-full flex flex-col justify-between",style:{minHeight:"80px"},children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Session:"}),e.jsx("span",{children:a})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Term:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold w-24",children:"Grade:"}),e.jsx("span",{children:n})]})]})})}),e.jsx("div",{className:"w-1/3 flex items-center justify-end",children:e.jsx("div",{className:"border border-gray-300 rounded w-4/5",children:e.jsxs("table",{className:"w-full text-[8px] attendance-table",children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:3,className:"border border-gray-300 bg-gray-100 text-center p-1 text-[8px]",children:"ATTENDANCE"})})}),e.jsxs("tbody",{className:"text-[8px]",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-1",children:"Days School Open"}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:l.expected_present}),e.jsxs("td",{rowSpan:3,className:"border border-gray-300 p-1 text-center align-middle",children:[(l.total_present/l.expected_present).toFixed(1)||"N/A","%"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-1",children:"Days Present"}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:l.total_present})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-1",children:"Days Absent"}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:l.total_absent})]})]})]})})})]}),P=i.forwardRef(({className:s,...t},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:g("w-full caption-bottom text-sm",s),...t})}));P.displayName="Table";const z=i.forwardRef(({className:s,...t},r)=>e.jsx("thead",{ref:r,className:g("[&_tr]:border-b",s),...t}));z.displayName="TableHeader";const _=i.forwardRef(({className:s,...t},r)=>e.jsx("tbody",{ref:r,className:g("[&_tr:last-child]:border-0",s),...t}));_.displayName="TableBody";const yt=i.forwardRef(({className:s,...t},r)=>e.jsx("tfoot",{ref:r,className:g("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));yt.displayName="TableFooter";const y=i.forwardRef(({className:s,...t},r)=>e.jsx("tr",{ref:r,className:g("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));y.displayName="TableRow";const E=i.forwardRef(({className:s,...t},r)=>e.jsx("th",{ref:r,className:g("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));E.displayName="TableHead";const u=i.forwardRef(({className:s,...t},r)=>e.jsx("td",{ref:r,className:g("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));u.displayName="TableCell";const wt=i.forwardRef(({className:s,...t},r)=>e.jsx("caption",{ref:r,className:g("mt-4 text-sm text-muted-foreground",s),...t}));wt.displayName="TableCaption";const St=({resultData:s,markObtained:t,studentSummary:r,termSummary:a,remarks:o,analysis:n,subjects:l,watermarkUrl:d,watermarkOpacity:m,watermarkScale:x})=>{const j=(c,h)=>{if(!c||!c.score_board)return"N/A";const f=c.score_board.find(w=>w.result_section_type_id===h);return f?f.score:"N/A"};return console.log(s),!s||!s.courses?e.jsx("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:e.jsx("p",{className:"text-yellow-800",children:"No subject data available"})}):e.jsxs("div",{className:"relative mt-2 mb-2",children:[e.jsx("div",{className:"absolute inset-0 z-0 flex items-center justify-center overflow-hidden pointer-events-none",style:{opacity:m/100},children:e.jsx("img",{src:d,alt:"Watermark",className:"object-contain max-w-full max-h-full opacity-50",style:{transform:`scale(${x/100})`,position:"absolute",top:"40%",left:"50%",transform:`translate(-50%, -50%) scale(${x/100})`}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-[12px] font-bold mb-0.5 text-center",children:"SUBJECTS ANALYSIS"}),e.jsxs(P,{className:"w-full border-collapse text-[10px]",children:[e.jsxs(z,{children:[e.jsxs(y,{children:[e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",rowSpan:2,children:"SUBJECTS"}),t&&Object.keys(t).length>0&&e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",colSpan:Object.keys(t).length,children:" MARKS OBTAINED"}),r&&Object.keys(r).length>0&&Object.values(r).map(c=>e.jsxs(E,{className:"border border-gray-300 p-0.5 text-center",rowSpan:2,children:[" ",c.name]},c.id)),a&&Object.keys(a).length>0&&e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",colSpan:Object.keys(a).length,children:"Term Summary"}),o&&Object.keys(o).length>0&&e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",colSpan:Object.keys(o).length,rowSpan:2,children:"Remarks"})]}),e.jsxs(y,{children:[t&&Object.keys(t).length>0&&Object.values(t).map(c=>e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",children:c.name},c.id)),a&&Object.keys(a).length>0&&Object.values(a).map(c=>e.jsx(E,{className:"border border-gray-300 p-0.5 text-center",children:c.name},c.id))]})]}),e.jsx(_,{children:s.courses.map((c,h)=>{var f,w;return e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:((w=(f=c.subject)==null?void 0:f.subject_depot)==null?void 0:w.name)||"Unknown Subject"}),t&&Object.keys(t).length>0&&Object.values(t).map(p=>e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:j(c,p.id)},p.id)),r&&Object.keys(r).length>0&&Object.values(r).map(p=>e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:j(c,p.id)},p.id)),a&&Object.keys(a).length>0&&Object.values(a).map(p=>e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:j(c,p.id)},p.id)),o&&Object.keys(o).length>0&&Object.values(o).map(p=>e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:j(c,p.id)},p.id))]},c.id||h)})})]})]})]})},At=({subjectsOffered:s,marksObtained:t,marksObtainable:r,classAverage:a,studentAverage:o})=>e.jsx("div",{className:"mt-1 mb-1",children:e.jsx(P,{className:"w-full border-collapse text-[10px]",children:e.jsxs(_,{children:[e.jsxs(y,{className:"border border-gray-300",children:[e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",rowSpan:2,children:"ANALYSIS"}),e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",children:"Subjects Offered"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:s}),e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",children:"Class Average"}),e.jsxs(u,{className:"border border-gray-300 p-0.5 text-center",children:[a.toFixed(2),"%"]}),e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center"})]}),e.jsxs(y,{className:"border border-gray-300",children:[e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",children:"Marks Obtained"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:t}),e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",children:"Marks Obtainable"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:r}),e.jsx(u,{className:"border border-gray-300 p-0.5 font-semibold",children:"Student Average"}),e.jsxs(u,{className:"border border-gray-300 p-0.5 text-center",children:[o.toFixed(2),"%"]})]})]})})}),Tt=({affectiveDomain:s,psychomotor:t})=>e.jsxs("div",{className:"grid grid-cols-3 gap-0.5 mb-1 text-[6px]",children:[e.jsx("div",{children:e.jsxs(P,{children:[e.jsx(z,{children:e.jsxs(y,{children:[e.jsx(E,{className:"border border-gray-300 p-0.5",children:" Affective Domain"}),e.jsx(E,{className:"border border-gray-300 p-0.5",children:"Rating"})]})}),e.jsx(_,{className:"text-[10px]",children:s.map((r,a)=>e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:r.name}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:r.rating})]},a))})]})}),e.jsx("div",{children:e.jsxs(P,{children:[e.jsx(z,{children:e.jsxs(y,{children:[e.jsx(E,{className:"border border-gray-300 p-0.5",children:"Pyschomotor"}),e.jsx(E,{className:"border border-gray-300 p-0.5",children:"Rating"})]})}),e.jsx(_,{className:"text-[10px]",children:t.map((r,a)=>e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:r.name}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:r.rating})]},a))})]})}),e.jsx("div",{children:e.jsxs(P,{children:[e.jsx(z,{children:e.jsx(y,{children:e.jsx(E,{colSpan:2,className:"border border-gray-300 p-0.5 text-center",children:"KEY TO RATING"})})}),e.jsxs(_,{className:"text-[10px]",children:[e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:"No Observable Trait"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:"1"})]}),e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:"Poor Level of Observable Trait"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:"2"})]}),e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:"Fair But Acceptable Level Observable Trait"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:"3"})]}),e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:"Good Level of Observable Trait"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:"4"})]}),e.jsxs(y,{children:[e.jsx(u,{className:"border border-gray-300 p-0.5",children:"Excellence Level of Observable Trait"}),e.jsx(u,{className:"border border-gray-300 p-0.5 text-center",children:"5"})]})]})]})})]}),Rt=()=>e.jsxs("div",{className:"mb-1 text-[10px]",children:[e.jsx("h3",{className:"font-bold mb-0.5 text-[9px]",children:"Academic Grading Scale"}),e.jsxs("div",{className:"grid grid-cols-3 gap-0.5",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"A1"}),e.jsx("div",{className:"w-12",children:"75 - 100"}),e.jsx("div",{children:"Excellent"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"B2"}),e.jsx("div",{className:"w-12",children:"70 - 74"}),e.jsx("div",{children:"Very Good"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"B3"}),e.jsx("div",{className:"w-12",children:"65 - 69"}),e.jsx("div",{children:"Good"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"C4"}),e.jsx("div",{className:"w-12",children:"60 - 64"}),e.jsx("div",{children:"Upper Credit"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"C5"}),e.jsx("div",{className:"w-12",children:"55 - 59"}),e.jsx("div",{children:"Credit"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"C6"}),e.jsx("div",{className:"w-12",children:"50 - 54"}),e.jsx("div",{children:"Lower Credit"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"D7"}),e.jsx("div",{className:"w-12",children:"45 - 49"}),e.jsx("div",{children:"Pass"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"D8"}),e.jsx("div",{className:"w-12",children:"40 - 44"}),e.jsx("div",{children:"Weak Pass"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-6",children:"F9"}),e.jsx("div",{className:"w-12",children:"0 - 39"}),e.jsx("div",{children:"Fail"})]})]})]}),Et=({teacherComments:s,headmasterComments:t,decision:r,nextTermFees:a,resumptionDate:o,otherCharges:n})=>e.jsx("div",{className:"mb-1",children:e.jsx(P,{className:"border border-gray-300 text-[9px]",children:e.jsxs(_,{children:[e.jsxs(y,{children:[e.jsxs(u,{className:"border border-gray-300 p-0.5",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"Class Teacher's Comments:"}),e.jsx("div",{className:"pl-1",children:s})]}),e.jsxs(u,{className:"border border-gray-300 p-0.5",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"Headmaster/Principal's Comments:"}),e.jsx("div",{className:"pl-1",children:t})]}),e.jsx(u,{className:"border border-gray-300 p-0.5 flex justify-end items-end h-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"Headmaster/Principal's Signature:"}),e.jsx("div",{className:"h-3 w-12",children:e.jsx("img",{src:"/lovable-uploads/54f7313f-28a5-4c5d-9f58-1c11d7d32dc5.png",alt:"Principal's Signature",className:"h-full w-full object-contain"})})]})})]}),e.jsxs(y,{children:[e.jsxs(u,{className:"border border-gray-300 p-0.5",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"DECISION:"}),e.jsx("div",{className:"pl-1",children:r})]}),e.jsxs(u,{className:"border border-gray-300 p-0.5",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"RESUMPTION DATE FOR SECOND TERM:"}),e.jsx("div",{className:"pl-1",children:o})]}),e.jsxs(u,{className:"border border-gray-300 p-0.5",children:[e.jsx("div",{className:"font-semibold mb-0.5",children:"OTHER CHARGES:"}),e.jsx("div",{className:"pl-1",children:n}),e.jsx("div",{className:"font-semibold mb-0.5 mt-1",children:"NEXT TERM SCHOOL FEES:"}),e.jsx("div",{className:"pl-1",children:a})]})]}),e.jsx(y,{children:e.jsx(u,{colSpan:3,className:"border border-gray-300 p-0.5 text-center",children:e.jsx("div",{className:"font-semibold text-[9px]",children:"NOTE: EACH CHILD MUST RETURN TO SCHOOL WITH EVIDENCE OF PAYMENT OR THEY WILL BE SENT BACK HOME"})})})]})})}),Ot=()=>e.jsxs("div",{className:"text-[7px] text-center text-gray-600 mt-0.5",children:[e.jsx("p",{children:"Developed by Compasse Africa (www.compasse.africa)"}),e.jsx("p",{className:"mt-0.5",children:"https://compasse.africa"}),e.jsx("p",{className:"text-right",children:"1/1"})]}),Ct=({schoolLogoUrl:s,title:t="NURSERY REPORT SHEET",watermarkOpacity:r,watermarkScale:a,data:o,mdata:n})=>e.jsxs("div",{className:"report-card w-full box-border print:box-border print:w-full",id:"printable-report",children:[e.jsx(Nt,{data:n,schoolLogoUrl:s,title:t}),e.jsx(vt,{name:n.student.name,admissionNo:n.student.admissionNo,className:n.student.class,session:n.student.session,term:n.student.term,grade:n.student.grade,attendanceData:n.attendance}),e.jsx(St,{subjects:o.subjects,watermarkUrl:s,watermarkOpacity:r,watermarkScale:a,resultData:n.resultData,markObtained:n.markObtained,studentSummary:n.studentSummary,termSummary:n.termSummary,remarks:n.remarks,analysis:n.analysis}),e.jsx(At,{subjectsOffered:o.summary.subjectsOffered,marksObtained:o.summary.marksObtained,marksObtainable:o.summary.marksObtainable,classAverage:o.summary.classAverage,studentAverage:o.summary.studentAverage}),e.jsx(Tt,{affectiveDomain:o.affectiveDomain,psychomotor:o.psychomotor}),e.jsx(Rt,{}),e.jsx(Et,{teacherComments:o.comments.teacher,headmasterComments:o.comments.headmaster,decision:o.comments.decision,nextTermFees:o.comments.nextTermFees,resumptionDate:o.comments.resumptionDate,otherCharges:o.comments.otherCharges}),e.jsx(Ot,{})]}),de={student:{name:"Micheal Temidayo Ayegbusi",admissionNo:"LYSB/1063",className:"Nursery 1A"},session:"2024/2025",term:"First Term",grade:"A1",attendance:{daysOpen:132,daysPresent:120,daysAbsent:12,percentage:91},subjects:[{name:"LITERACY",ca1:9,ca2:5,ca3:5,exam:45,total:64,grade:"C4",classAverage:"83.41",lowestScore:55,highestScore:100,position:"28th",remark:"UPPER CREDIT"},{name:"NUMERACY",ca1:10,ca2:10,ca3:4,exam:50,total:74,grade:"B2",classAverage:"87.38",lowestScore:48,highestScore:100,position:"25th",remark:"VERY GOOD"},{name:"PRACTICAL LIFE EXERCISE",ca1:10,ca2:10,ca3:8,exam:62,total:90,grade:"A1",classAverage:"89.38",lowestScore:28,highestScore:100,position:"18th",remark:"EXCELLENT"},{name:"SENSORIAL EDUCATION",ca1:10,ca2:10,ca3:10,exam:61,total:91,grade:"A1",classAverage:"90.45",lowestScore:65,highestScore:100,position:"12th",remark:"EXCELLENT"},{name:"CULTURAL SUBJECT",ca1:10,ca2:10,ca3:5,exam:68,total:93,grade:"A1",classAverage:"83.59",lowestScore:30,highestScore:97,position:"7th",remark:"EXCELLENT"},{name:"CULTURAL AND CREATIVE ART",ca1:10,ca2:10,ca3:7,exam:65,total:92,grade:"A1",classAverage:"90.76",lowestScore:27,highestScore:100,position:"18th",remark:"EXCELLENT"},{name:"MORAL INSTRUCTION",ca1:10,ca2:10,ca3:10,exam:61,total:91,grade:"A1",classAverage:"89.86",lowestScore:27,highestScore:100,position:"15th",remark:"EXCELLENT"},{name:"RHYMES",ca1:10,ca2:10,ca3:8,exam:60,total:88,grade:"A1",classAverage:"89.21",lowestScore:25,highestScore:99,position:"20th",remark:"EXCELLENT"},{name:"COMPUTER STUDIES",ca1:10,ca2:10,ca3:6,exam:60,total:86,grade:"A1",classAverage:"87.76",lowestScore:63,highestScore:100,position:"17th",remark:"EXCELLENT"},{name:"HAND WRITING",ca1:10,ca2:10,ca3:6,exam:30,total:56,grade:"C5",classAverage:"79.38",lowestScore:27,highestScore:99,position:"27th",remark:"CREDIT"}],summary:{subjectsOffered:10,marksObtained:825,marksObtainable:1e3,classAverage:86.72,studentAverage:82.5},affectiveDomain:[{name:"Honesty",rating:4},{name:"Neatness",rating:3},{name:"Punctuality",rating:3},{name:"Reliability",rating:4},{name:"Cooperation",rating:4}],psychomotor:[{name:"Games",rating:4},{name:"Creativity",rating:3},{name:"Handwriting",rating:3},{name:"Verbal Fluency",rating:3},{name:"Perceptual Ability",rating:3}],comments:{teacher:"V.Good",headmaster:"An Excellent Result, Keep it up",decision:"PASS",nextTermFees:"₦0",resumptionDate:"2025-01-06",otherCharges:"-"}},Dt=({content:s,data:t,title:r="NURSERY REPORT SHEET"})=>{const[a,o]=i.useState(15),[n,l]=i.useState(120),d=i.useRef(null),{toast:m}=Se(),x=()=>{setTimeout(()=>{window.print()},500)},j=()=>{m({title:"Feature coming soon",description:"PDF download will be available in the next update"})},c={...de,comments:{...de.comments,teacher:"Good",headmaster:"Excellent",decision:"PASS",resumptionDate:"2025-01-06",otherCharges:"-",nextTermFees:"₦0"}},h=`https://schoolcompasse.s3.us-east-1.amazonaws.com/${t.school.school_logo}`;return e.jsxs("div",{className:"min-h-screen px-4 py-6 bg-gray-50 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-4xl p-4 mx-auto mb-6 bg-white rounded-lg shadow no-print",children:[e.jsx("h2",{className:"mb-4 text-lg font-medium",children:"Report Card Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Watermark Opacity: ",a,"%"]}),e.jsx(re,{value:[a],onValueChange:f=>o(f[0]),min:5,max:30,step:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Watermark Size: ",n,"%"]}),e.jsx(re,{value:[n],onValueChange:f=>l(f[0]),min:50,max:200,step:5})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(X,{onClick:x,className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-4 h-4"}),"Print Report Card"]}),e.jsxs(X,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"}),"Download as PDF"]})]})]})]}),e.jsx("div",{className:"relative max-w-4xl mx-auto",ref:d,children:e.jsx(Ke,{className:"relative z-10 p-6 bg-white shadow-lg result-page-content print:shadow-none print:p-6",children:s||e.jsx(Ct,{schoolLogoUrl:h,title:r,watermarkOpacity:a,watermarkScale:n,data:c,mdata:t})})})]})},It=()=>{const[s,t]=i.useState(null);return i.useEffect(()=>{var r,a,o,n,l,d;try{const m=JSON.parse(localStorage.getItem("student")||"{}"),x=JSON.parse(localStorage.getItem("scoreData")||"{}"),j=JSON.parse(localStorage.getItem("totalHeadings")||"[]"),c=JSON.parse(localStorage.getItem("percent")||"0"),h=JSON.parse(localStorage.getItem("groupedHeadings")||"{}"),f=JSON.parse(localStorage.getItem("headings")||"[]"),w=JSON.parse(localStorage.getItem("psychomotorAffective")||"[]"),p=JSON.parse(localStorage.getItem("psychomotorNormal")||"[]"),N=JSON.parse(localStorage.getItem("termAndAcademy")||"{}"),b=JSON.parse(localStorage.getItem("relatedData")||"{}"),S=JSON.parse(localStorage.getItem("resultData")||"{}"),A=[...h.input||[],...h.total||[]],v={school:b.school||{},classTeacher:(r=S.class)==null?void 0:r.teacher,courses:S.courses,student:{data:m,name:m.name||"",admissionNo:m.registration_number||"",class:((a=m.class)==null?void 0:a.name)||"",session:((o=N.academy)==null?void 0:o.title)||"",term:((n=N.term)==null?void 0:n.name)||"",grade:x.grade||""},totalHeadings:j,psychomotorNormal:p.map(T=>{var O,C;return{...T,rating:((C=(O=T.psychomotor_student)==null?void 0:O[0])==null?void 0:C.rating)||"-"}}),attendance:b.studentAttendance||{},markObtained:S.markObtained,studentSummary:S.studentSummary,termSummary:S.termSummary,remarks:S.remarks,subjects:f.map(T=>({name:T.name,scoreBoard:T.scoreBoard||[]})),analysis:{totalScore:x.totalScore||0,percentage:c||0,position:x.position||"",grade:x.grade||"",marksObtainable:(S.totalSubject||0)*100,classAverage:S.classAverage||"-",studentAverage:c||0},affectiveDomain:w.map(T=>{var O,C;return{...T,rating:((C=(O=T.psychomotor_student)==null?void 0:O[0])==null?void 0:C.rating)||"-"}}),comments:{teacherComment:((l=b.studentComment)==null?void 0:l.comment)||"",principalComment:S.principalComment||""},decision:x.decision||"",nextTerm:((d=b.school)==null?void 0:d.next_term_begins)||"",date:new Date().toLocaleDateString(),code:m.registration_number||"",resultData:S};t(v)}catch(m){console.error("Error fetching data from localStorage",m),t(reportData)}},[]),s?e.jsxs("div",{className:"result-container",children:[e.jsx("div",{className:"no-print p-4",children:e.jsx(js,{to:"/",children:e.jsxs(X,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"})," Back to Home"]})})}),e.jsx(Dt,{title:s.student.class,data:s})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 py-8 px-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Loading..."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we load your report card."})]})})},kt=()=>{const s=ye();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Pt=new Ns,_t=()=>{console.log(window.scoreData),window.student&&localStorage.setItem("student",JSON.stringify(window.student)),window.scoreData&&localStorage.setItem("scoreData",JSON.stringify(window.scoreData)),window.totalHeadings&&localStorage.setItem("totalHeadings",JSON.stringify(window.totalHeadings)),window.percent&&localStorage.setItem("percent",JSON.stringify(window.percent)),window.groupedHeadings&&localStorage.setItem("groupedHeadings",JSON.stringify(window.groupedHeadings)),window.headings&&localStorage.setItem("headings",JSON.stringify(window.headings)),window.psychomotorAffective&&localStorage.setItem("psychomotorAffective",JSON.stringify(window.psychomotorAffective)),window.psychomotorNormal&&localStorage.setItem("psychomotorNormal",JSON.stringify(window.psychomotorNormal)),window.termAndAcademy&&localStorage.setItem("termAndAcademy",JSON.stringify(window.termAndAcademy)),window.relatedData&&localStorage.setItem("relatedData",JSON.stringify(window.relatedData)),window.resultData&&localStorage.setItem("resultData",JSON.stringify(window.resultData));const s=ye();return i.useEffect(()=>{s.pathname==="/"&&(window.dataRefreshNeeded=!0)},[s]),null},Lt=()=>(i.useEffect(()=>{console.log(window.scoreData),window.student&&localStorage.setItem("student",JSON.stringify(window.student)),window.scoreData&&localStorage.setItem("scoreData",JSON.stringify(window.scoreData)),window.totalHeadings&&localStorage.setItem("totalHeadings",JSON.stringify(window.totalHeadings)),window.percent&&localStorage.setItem("percent",JSON.stringify(window.percent)),window.groupedHeadings&&localStorage.setItem("groupedHeadings",JSON.stringify(window.groupedHeadings)),window.headings&&localStorage.setItem("headings",JSON.stringify(window.headings)),window.psychomotorAffective&&localStorage.setItem("psychomotorAffective",JSON.stringify(window.psychomotorAffective)),window.psychomotorNormal&&localStorage.setItem("psychomotorNormal",JSON.stringify(window.psychomotorNormal)),window.termAndAcademy&&localStorage.setItem("termAndAcademy",JSON.stringify(window.termAndAcademy)),window.relatedData&&localStorage.setItem("relatedData",JSON.stringify(window.relatedData)),window.resultData&&localStorage.setItem("resultData",JSON.stringify(window.resultData))},[]),e.jsx(ws,{client:Pt,children:e.jsxs(Us,{children:[e.jsx(Fs,{}),e.jsx(Js,{}),e.jsxs(Ss,{children:[e.jsx(_t,{}),e.jsxs(As,{children:[e.jsx(Y,{path:"/",element:e.jsx(le,{to:"/result",replace:!0})}),e.jsx(Y,{path:"/index",element:e.jsx(le,{to:"/result",replace:!0})}),e.jsx(Y,{path:"/result",element:e.jsx(It,{})}),e.jsx(Y,{path:"*",element:e.jsx(kt,{})})]})]})]})}));document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("result-root");s&&vs.createRoot(s).render(e.jsx(ys.StrictMode,{children:e.jsx(Lt,{})}))});
